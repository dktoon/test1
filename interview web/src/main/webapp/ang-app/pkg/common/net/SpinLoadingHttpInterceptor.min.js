Package("common.net").SpinLoadingHttpInterceptor=["$q","$rootScope","$log",function(n,i,o){Import("common.ui.Spinner"),this.numLoadings=0,this.spinner=new PKG.common.ui.Spinner;var e=this;return{request:function(i){return i.url.indexOf("/services/signup")>=0||i.url.indexOf("noSpin")>=0||(e.numLoadings++,setTimeout(function(){e.spinner.startSpin()})),i||n.when(i)},response:function(i){var o=e.numLoadings;return e.numLoadings=Math.max(0,e.numLoadings-1),o>0&&0===e.numLoadings&&setTimeout(function(){e.spinner.stopSpin()}),i||n.when(i)},responseError:function(i){var o=e.numLoadings;return e.numLoadings=Math.max(0,e.numLoadings-1),o>0&&0===e.numLoadings&&setTimeout(function(){e.spinner.stopSpin()}),n.reject(i)}}}];